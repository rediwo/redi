{{layout 'admin'}}

<script @server>
res.render({
    Title: "User Management",
    users: [
        { id: 1, name: "John Doe", email: "john@example.com", role: "admin", status: "active" },
        { id: 2, name: "Jane Smith", email: "jane@example.com", role: "editor", status: "active" },
        { id: 3, name: "Bob Johnson", email: "bob@example.com", role: "user", status: "inactive" }
    ]
});
</script>

<h1>User Management</h1>

<div class="admin-panel">
    <h2>Add New User</h2>
    <form method="POST" action="/api/users" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
        <div class="form-group">
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" required>
        </div>
        <div class="form-group">
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required>
        </div>
        <div class="form-group">
            <label for="role">Role:</label>
            <select id="role" name="role" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                <option value="user">User</option>
                <option value="editor">Editor</option>
                <option value="admin">Admin</option>
            </select>
        </div>
        <div class="form-group" style="display: flex; align-items: end;">
            <button type="submit" class="btn">Add User</button>
        </div>
    </form>
</div>

<div class="admin-panel">
    <h2>Existing Users</h2>
    <table style="width: 100%; border-collapse: collapse;">
        <thead>
            <tr style="background-color: #f8f9fa;">
                <th style="padding: 10px; border: 1px solid #ddd;">ID</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Name</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Email</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Role</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Status</th>
                <th style="padding: 10px; border: 1px solid #ddd;">Actions</th>
            </tr>
        </thead>
        <tbody>
            {{range .users}}
            <tr>
                <td style="padding: 10px; border: 1px solid #ddd;">{{.id}}</td>
                <td style="padding: 10px; border: 1px solid #ddd;">{{.name}}</td>
                <td style="padding: 10px; border: 1px solid #ddd;">{{.email}}</td>
                <td style="padding: 10px; border: 1px solid #ddd;">{{.role}}</td>
                <td style="padding: 10px; border: 1px solid #ddd;">
                    <span style="color: {{if eq .status "active"}}green{{else}}red{{end}};">{{.status}}</span>
                </td>
                <td style="padding: 10px; border: 1px solid #ddd;">
                    <button class="btn" style="font-size: 12px; padding: 5px 10px; margin-right: 5px;">Edit</button>
                    <button class="btn" style="font-size: 12px; padding: 5px 10px; background-color: #dc3545;">Delete</button>
                </td>
            </tr>
            {{end}}
        </tbody>
    </table>
</div>